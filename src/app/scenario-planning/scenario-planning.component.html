<div class="bg_pale">
  <div class="row col-md-12 ">
      <div class="col-md-2 white-bg pr-five border-shadow-mild">
          <div class="p-10 label-wrapper  mat-elevation-z8">
            <label> Scenario Planner </label>
          </div>
<!-- Filter Section -->
          <div class="m-5px">
            <div class="field_container">
              <label class="label_dropdown">Peroid</label>
              <mat-form-field appearance="fill">
                <mat-label>Choose an option</mat-label>
                <mat-select (selectionChange)="changePeroidList($event.value)" [(value)]="activePeroid">
                  <mat-option *ngFor="let item of PeroidList" [value]="item.value">{{item.name}}</mat-option>
                </mat-select>
              </mat-form-field>
              </div>
              <div class="field_container">
               <label class="label_dropdown">Pack Type</label>
              <mat-form-field appearance="fill">
                <mat-label>Choose an option</mat-label>
                <mat-select [formControl]="types" [(ngModel)]="typeSelected"  multiple>
                  <mat-select-trigger>
                    {{types.value ? types.value[0] : ''}}
                    <span *ngIf="types.value?.length > 1" class="example-additional-selection">
                      (+{{types.value.length - 1}} {{types.value?.length === 2 ? 'other' : 'others'}})
                    </span>
                  </mat-select-trigger>
                  <mat-option *ngFor="let topping of activityType" [value]="topping.pack_type">{{topping.pack_type}}</mat-option>
                </mat-select>
              </mat-form-field>
              </div>

          </div>
<!-- Filter Section -->
<!-- Footer Section -->
           <div class="footer m-5px">
                <div class="footer-actions">
                  <!-- <div class="dflex-footer_img">
                    <img src="assets/svg/undraw_filter.svg" height="150px" width="150px"/>
                  </div> -->

                <div class="row width_100">
                    <button mat-raised-button color="primary" (click)="doFilter()">
                      <div class="d-flex center_all">
                        <div class="d-flex"><mat-icon aria-hidden="false" aria-label="Apply">filter_alt</mat-icon></div>
                        <div  class="break-line">Apply Filter</div>
                      </div>
                      </button>
                   <button mat-raised-button color="primary" (click)="resetFilter()" >
                    <div class="d-flex center_all">
                      <div class="d-flex"><mat-icon aria-hidden="false" aria-label="Apply">restart_alt</mat-icon></div>
                      <div  class="break-line">Reset Filter</div>
                    </div>
                    </button>
                    <button class="button-wt "
                    (click)="downloadRateCardTemplate()"
                    mat-raised-button color="primary">
                  <div class="d-flex center_all">
                    <div class="d-flex"><mat-icon aria-hidden="false" aria-label="Example home icon">file_download</mat-icon></div>
                    <div  class="break-line"> Rate Card Template</div>
                  </div>

                   </button>

                   <button class="button-wt remove_hover" mat-raised-button color="primary" (click)="rateFile.click()" >

                    <div class="d-flex center_all">
                      <div class="d-flex"><mat-icon aria-hidden="false" aria-label="Example home icon">file_upload</mat-icon></div>
                       <input hidden accept=".xlsx,.xls,.csv" (change)="onRateFileSelected($event)" #rateFile type="file" id="ratefile">

                      <div  class="break-line"> Rate Card ({{RateCardCount}})
                      </div>
                      </div>
                     </button>

                     <button  class="button-wt" mat-raised-button color="primary">

                      <div class="d-flex center_all" >
                        <div class="d-flex"><mat-icon aria-hidden="false" aria-label="Example home icon">file_download</mat-icon></div>

                        <div  class="break-line"> Financials Template</div>
                      </div>
                    </button>
                    <button (click)="finFile.click()" class="button-wt" mat-raised-button color="primary">

                      <div class="d-flex center_all">
                       <div class="d-flex"><mat-icon aria-hidden="false" aria-label="Example home icon">file_upload</mat-icon></div>
                       <input hidden accept=".xlsx,.xls,.csv" (change)="onFinancialsSelected()" #finFile type="file" id="finfile">

                       <div  class="break-line"> Financials ({{financialsCount}}) </div>
                     </div>
                     </button>
                </div>

                </div>
                <!-- <div class="footer-logo ">
                      <img src="/assets/img/logo.png"/>
                </div> -->
              </div>
  <!-- Footer Section -->
       </div>
       <div class="col-md-10 pr_zero">
         <!-- Button Action Section -->
        <div class="col-md-12 row action_center">
            <div class="col-md-3">
              <div class="custom_search">
                <mat-form-field class="example-form-field" appearance="fill" >
                  <mat-label>Product Name
                    <mat-icon class="material-icons-outlined search_table_icon">search</mat-icon>
                  </mat-label>
                  <input matInput type="text" [(ngModel)]="search_tag" (keyup.enter)="doFilter()">
                  <button  matSuffix (click)="clear_search()" mat-icon-button aria-label="Clear">
                    <mat-icon>close</mat-icon>
                  </button>
                </mat-form-field>
              </div>

            </div>
                <div class="col-md-9  button_actions">
                  <div class="col-md-6 dlex-alc">
                  <button class="button-wt"
                    (click)="downloadPromotionTemplate()"
                      mat-raised-button color="primary">
                    <div class="d-flex center_all">
                      <div class="d-flex"><mat-icon aria-hidden="false" aria-label="Example home icon">file_download</mat-icon></div>
                        <div  class="break-line" >Promotion Template</div>
                    </div>
                     </button>
                       <button class="button-wt" (click)="skuPlan.click()" mat-raised-button color="primary">
                        <div class="d-flex center_all">
                        <div class="d-flex"><mat-icon aria-hidden="false" aria-label="Example home icon">local_offer</mat-icon></div>
                        <input hidden accept=".xlsx,.xls,.csv" (change)="PromoReader($event)" #skuPlan type="file" id="skufile">
                        <div  class="break-line" >Upload Promotion</div>
                        </div>
                     </button>


                  </div>
                  <div class="col-md-6 dlex-alc">
                    <button class="button-wt" mat-raised-button color="primary" (click)="simulateScenario()">

                        <div class="d-flex center_all">
                          <div class="d-flex"><mat-icon aria-hidden="false" aria-label="Example home icon">data_exploration</mat-icon></div>
                          <div class="break-line"> Simulate Scenario</div>
                        </div>
                      </button>
                   <button class="button-wt" mat-raised-button color="primary" (click)="optimizeScenario()">

                      <div class="d-flex center_all">
                        <div class="d-flex"><mat-icon aria-hidden="false" aria-label="Example home icon">auto_graph</mat-icon></div>
                        <div class="break-line"> Optimize Scenario</div>
                      </div>
                    </button>

                  </div>
                </div>
              </div>
    <!-- Button Action Section -->
   <!-- Table view section -->

          <div class="row m-5px header-fixed custom_scroll">
           <table matTableFilter  matSort (matSortChange)="sortData($event)"
             mat-table [dataSource]="dataSource"

             class="mat-elevation-z4 planner_table_bg ">

              <!-- Checkbox Column -->
              <ng-container matColumnDef="select">
                <th width="5%" mat-header-cell *matHeaderCellDef>
                  <mat-checkbox color="primary" (change)="$event ? masterToggle() : null"
                                [checked]="selection.hasValue() && isAllSelected()"
                                [indeterminate]="selection.hasValue() && !isAllSelected()">
                  </mat-checkbox>
                </th>
                <td width="5%" mat-cell *matCellDef="let row">
                  <mat-checkbox color="primary" (click)="changeConstraint(row)"
                                (change)="$event ? selection.toggle(row): null"
                                [checked]="selection.isSelected(row)">
                  </mat-checkbox>
                </td>
              </ng-container>

              <!-- PACK TYPE Column -->
              <ng-container matColumnDef="pack_type">
                <th width="10%"  mat-header-cell *matHeaderCellDef> PACK TYPE </th>
                <td width="10%" mat-cell *matCellDef="let element"> {{element.pack_type}} </td>
              </ng-container>

              <!-- Product TPN Column -->
              <ng-container matColumnDef="product_tpn">
                <th width="10%" mat-header-cell *matHeaderCellDef> PRODUCT TPN </th>
                <td width="10%" mat-cell *matCellDef="let element"> {{element.product_tpn}} </td>
              </ng-container>

              <!--  PRODUCT NAME Column -->
              <ng-container matColumnDef="product_name">
                <th width="15%"  mat-header-cell *matHeaderCellDef> PRODUCT NAME  </th>
                <td  width="15%" mat-cell *matCellDef="let element"> {{element.product_name}} </td>
              </ng-container>

              <!--  LIST PRICE Column -->
              <ng-container matColumnDef="list_price">
                <th width="6%"   mat-header-cell *matHeaderCellDef> LIST PRICE ({{currencySymbol}})</th>
                <td  width="6%" mat-cell *matCellDef="let element">
                  <input type="number"  [(ngModel)]="element.list_price" (focusout)="updateDiscount_price($event,element)" class="width-text small-textbox" />
                </td>
              </ng-container>

            <!-- Expected PROMOTION TYPE Column -->
              <ng-container matColumnDef="promotion_type">
                <th  width="12%"  mat-header-cell *matHeaderCellDef> PROMOTION TYPE </th>
                <td width="12%" mat-cell  *matCellDef="let element">
                  <mat-form-field appearance="fill">
                    <mat-select [(ngModel)]="element.promotion_type"  (selectionChange)="setPromoDesc(element.promotion_type,element)">
                      <mat-option *ngFor="let c of element.promotion_type_list"   [value]="c.id">{{c.name}}</mat-option>
                    </mat-select>
                  </mat-form-field>

                 </td>
              </ng-container>
            <!-- Expected PROMOTION Column -->
            <ng-container matColumnDef="promotion">
              <th width="13%" mat-header-cell *matHeaderCellDef> PROMOTION </th>
              <td width="13%" mat-cell  *matCellDef="let element">
               <!-- <select [(ngModel)]="element.promotion" (change)="updateDiscount($event,element)" class="small_select">
                  <option *ngFor="let c of element.promotion_list" [ngValue]="c.value" [value]="c.Value" >{{c.Description}}</option>
                </select> -->

                 <mat-form-field appearance="fill">
                  <mat-select [(ngModel)]="element.promotion"   (selectionChange)="updateDiscount($event,element)">
                    <mat-option *ngFor="let c of element.promotion_list"   [value]="c.Final_Price">{{c.Promotion_Text}}</mat-option>
                  </mat-select>
                </mat-form-field>
              </td>
            </ng-container>
               <!-- Expected DISCOUNT Column -->
              <ng-container matColumnDef="discount">
                <th  width="10%"  mat-header-cell *matHeaderCellDef> DISCOUNT % </th>
                <td width="10%" mat-cell *matCellDef="let element">
                  <div class="tuner_container">
                    <div class="value-button" id="decrease" (click)="decrementRange(element)" value="Decrease Value">-</div>
                    <input type="number" id="number" value="0" [(ngModel)]="element.discount" (keyup)="setSellingPrice(element)"/>
                    <div class="value-button" id="increase"  (click)="incrementRange(element)" value="Increase Value">+</div>
                  </div>
                </td>
              </ng-container>
               <!-- Expected EDLP Column -->
              <ng-container matColumnDef="edlp">
                <th width="10%"  mat-header-cell *matHeaderCellDef> EDLP </th>
                <td width="10%" mat-cell *matCellDef="let element">
                  <mat-form-field appearance="fill">
                    <mat-select [(ngModel)]="element.edlp" class="table_select" (selectionChange)="EDLPChange($event,element)">
                      <mat-option *ngFor="let c of binaryOption"   [value]="c.id">{{c.name}}</mat-option>
                    </mat-select>
                  </mat-form-field>
                </td>
              </ng-container>
               <!-- Expected EDLP Column -->
              <ng-container matColumnDef="selling_price">
                <th width="8%" mat-header-cell *matHeaderCellDef> SELLING PRICE ({{currencySymbol}})</th>
                <td class="text-align-c" width="8%" mat-cell *matCellDef="let element">
                  <input type="number" readonly [(ngModel)]="element.selling_price" class="unselectable width-text small-textbox " />
                 </td>
              </ng-container>

              <tr mat-header-row *matHeaderRowDef="displayedColumns"></tr>
              <tr mat-row *matRowDef="let row; columns: displayedColumns;">
              </tr>
              <tr class="mat-row" *matNoDataRow>
                <td class="mat-cell" colspan="9999">
                  <div  class="row col-md-12">
                    <div class="col-md-4"></div>
                    <div class="col-md-4 dflex center_all ffc filter_no">
                      <img height="200px" src="assets/svg/undraw_void.svg"/>
                      <div class="filter_no">No Data Found For The Filter</div>
                    </div>
                    <div class="col-md-4"></div>
                  </div>

                </td>
               </tr>
            </table>

          </div>
          <!-- Table view section -->
          <!--Constraints Section   -->
          <!-- <div class="constraint_section mat-elevation-z3 row p-10 m-5px">
            <div class="row col-md-12 headers">
             <div class="col-md-6">
              <h5 class="ucase"> <mat-checkbox class="example-margin"  color="primary">
                Check to apply Unconstraint Activations
              </mat-checkbox></h5>
             </div>
             <div class="col-md-6">
              <h3 class="label_constraints">Constraints</h3>
             </div>
            </div>
            <div class="row col-md-12 p-10">

              <div class="col-md-3 dlex-alc">

                <div class="budget_container">
               <div class="dflex-jc">
                <img src="assets/svg/undraw_Investing.svg" height="150px" width="150px"/>
               </div>

                  <h3 class="label_constraints budget_text dflex-jc">Total Budget</h3>

                 <div class="dflex-jc">
                   <input type="text" class="text-big"/>
                 </div>
                  <div class="row width_100">
                    <button mat-raised-button color="primary">Reset</button>
                 </div>
                </div>
              </div>
              <div class="col-md-9">
                <div class="mat-elevation-z2 headline-1 row">

                <div class="headline-1">
                  Activations (based on slot availability)
                </div>
                <table
                mat-table [dataSource]="dataSourceConstraints"
                class=" planner_table table_constraint"> -->
                 <!--TITLES -->
                 <!-- <ng-container matColumnDef="pack_type">
                  <th mat-header-cell *matHeaderCellDef>
                    Activations / Pack Type
                  </th>
                  <td class="header_bg" mat-cell *matCellDef="let element" width="25%"> {{element.pack_type}} </td>
                </ng-container> -->
                 <!-- FSI Column -->
                 <!-- <ng-container matColumnDef="fsi">
                   <th mat-header-cell *matHeaderCellDef>
                    FSI
                   </th>
                   <td mat-cell *matCellDef="let element"  width="15%">
                     <mat-checkbox color="primary"  [(ngModel)]="element.fsi">
                     </mat-checkbox>
                   </td>
                 </ng-container> -->

                 <!--FAI Column -->
                 <!-- <ng-container matColumnDef="fai">
                  <th mat-header-cell *matHeaderCellDef>
                   FAI
                  </th>
                  <td mat-cell *matCellDef="let element" width="15%">
                    <mat-checkbox color="primary" [(ngModel)]="element.fai">
                    </mat-checkbox>
                  </td>
                </ng-container> -->
                 <!--SEARCH Column -->
                 <!-- <ng-container matColumnDef="search">
                  <th mat-header-cell *matHeaderCellDef>
                   SEARCH
                  </th>
                  <td mat-cell *matCellDef="let element" width="15%">
                    <mat-checkbox color="primary" [(ngModel)]="element.search">
                    </mat-checkbox>
                  </td>
                </ng-container> -->
                  <!--SOT Column -->
                  <!-- <ng-container matColumnDef="sot">
                    <th mat-header-cell *matHeaderCellDef>
                     SOT
                    </th>
                    <td mat-cell *matCellDef="let element" width="15%">
                      <mat-checkbox color="primary"  [(ngModel)]="element.sot">
                      </mat-checkbox>
                    </td>
                  </ng-container> -->
                   <!--BPP Column -->
                   <!-- <ng-container matColumnDef="bpp">
                    <th mat-header-cell *matHeaderCellDef width="15%">
                     BBP
                    </th>
                    <td mat-cell *matCellDef="let element">
                      <mat-checkbox color="primary"  [(ngModel)]="element.bpp">
                      </mat-checkbox>
                    </td>
                  </ng-container>



                 <tr mat-header-row *matHeaderRowDef="displayedColumnsConstraints"></tr>
                 <tr mat-row *matRowDef="let row; columns: displayedColumnsConstraints;">
                 </tr>
               </table>

              </div>
              </div>
             </div>
          </div> -->
      <!--End ofConstraints Section   -->
        <div>
       </div>

  </div>
</div>
